(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{30:function(e,t,a){e.exports=a(63)},35:function(e,t,a){},36:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),c=a.n(s),i=(a(35),a(2)),o=a(4),l=a(6),u=a(5),m=(a(36),a(17)),p=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(m.b,{to:"/"},r.a.createElement(h,null),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"headerInner"},r.a.createElement("a",{href:"https://kozievsk.ru/coffee/",class:"headerIcon"},r.a.createElement("svg",{width:"35",height:"35",viewBox:"5 5 35 35",class:"headerImg"},r.a.createElement("path",{d:"M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z"}))),r.a.createElement("span",{className:"headerText"},"Michael Converter"),this.props.IsLoggedIn()?r.a.createElement("div",{className:"headerButton"},r.a.createElement(m.b,{to:"/converter"},r.a.createElement("button",{className:"headerSingUp"},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),r.a.createElement("button",{className:"headerSingIn",onClick:this.props.SetLoggedIn},"\u0412\u044b\u0439\u0442\u0438")):r.a.createElement("div",{className:"headerButton"},r.a.createElement(m.b,{to:"/singup"},r.a.createElement("button",{className:"headerSingUp"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement(m.b,{to:"/singin"},r.a.createElement("button",{className:"headerSingIn"},"\u0412\u043e\u0439\u0442\u0438"))))))}}]),a}(r.a.Component),h=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={seconds:0},n}return Object(o.a)(a,[{key:"tick",value:function(){this.setState((function(e){return{seconds:e.seconds+1}}))}},{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement("div",{class:"timer"},"\u0412\u0440\u0435\u043c\u044f \u043d\u0430 \u0441\u0430\u0439\u0442\u0435:  ",this.state.seconds," \u0441\u0435\u043a.")}}]),a}(r.a.Component),g=(a(41),function(e){var t=e.exchangeKey,a=e.exchangeValue;return r.a.createElement("tr",null,r.a.createElement("th",null,"1 ","".concat(t)),r.a.createElement("th",{className:"Exchange"},"".concat((100/(100*a)).toFixed(2)," RUB")),r.a.createElement("th",null,"".concat((100/(100*a)+1.5).toFixed(1)," RUB")))}),d=(a(42),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:void 0},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.exchangeratesapi.io/latest?base=RUB").then((function(e){return e.json()})).then((function(t){return e.setState({data:t.rates})}))}},{key:"render",value:function(){var e=this;return console.log("render"),r.a.createElement("table",{class:"exchangeTable"},r.a.createElement("div",{className:"exchangeTableInner"},r.a.createElement("tr",null,r.a.createElement("th",{className:"headTd"},"\u0412\u0430\u043b\u044e\u0442\u0430"),r.a.createElement("th",{className:"headTd"},"\u0420\u0435\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),r.a.createElement("th",{className:"headTd"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u0438\u044f")),this.state.data?Object.keys(this.state.data).map((function(t){return"USD"==t||"EUR"==t||"CAD"==t||"GBP"==t||"CNY"==t?r.a.createElement(g,{exchangeKey:t,exchangeValue:e.state.data[t]}):void 0})):r.a.createElement("div",null,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b")))}}]),a}(n.Component)),v=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(d,null)}}]),a}(n.Component),f=a(19),b=a(13),E=(a(43),a(15));E.initializeApp({apiKey:"AIzaSyAYrEQKdLedSr5BA0t1FkkWc1gyTEtQ2sA",authDomain:"jsiconverter.firebaseapp.com",databaseURL:"https://jsiconverter.firebaseio.com",projectId:"jsiconverter",storageBucket:"jsiconverter.appspot.com",messagingSenderId:"290844832718",appId:"1:290844832718:web:41628e754fa377fb31719f"});var S=function e(){Object(i.a)(this,e),this.doSingUp=function(e,t,a,n,r,s,c,i){E.database().ref().child("users").child(a).child("Login").on("value",(function(o){if(a===o.val())i();else{var l=E.storage().ref("users/"+s.name).put(s);l.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case E.storage.TaskState.PAUSED:console.log("Upload is paused");break;case E.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){switch(e.code){case"storage/unauthorized":console.log("User doesn't have permission to access the object");break;case"storage/canceled":console.log("User canceled the upload");break;case"storage/unknown":console.log("Unknown error occurred, inspect error.serverResponse")}}),(function(){l.snapshot.ref.getDownloadURL().then((function(s){E.database().ref("users/"+a).set({Surname:e,Name:t,Login:a,Apple:n,Password:r,filePath:s},(function(e){e?i():c()})),console.log("File available at",s)}))}))}}))},this.doSingIn=function(e,t,a,n){E.database().ref().child("users").child(e).child("Password").on("value",(function(e){t===e.val()?a():n()}))}},I={surname:"",name:"",login:"",apple:"",passwordOne:"",passwordTwo:""},j=new S,O=function(){var e=document.getElementById("sing_up"),t=+window.getComputedStyle(e).height.substr(0,3)+35;e.style.height=t+"px",document.getElementById("sing_up_error_text").style.display="flex"},y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state,a=t.surname,r=t.name,s=t.login,c=t.apple,i=t.passwordOne,o=document.getElementById("file_input").files[0];j.doSingUp(a,r,s,c,i,o,n.props.SetLoggedIn,O),e.preventDefault()},n.onChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.state=Object(f.a)({},I),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.surname,a=e.name,n=e.login,s=(e.apple,e.passwordOne),c=e.passwordTwo,i=s!==c||""===s||""===n||""===t||""===a;return r.a.createElement("div",{className:"SingUp",id:"sing_up"},r.a.createElement("div",{className:"SingUpInner"},r.a.createElement("span",{className:"SingUpHeaderText"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("span",{className:"SingUpErrorText",id:"sing_up_error_text"},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),r.a.createElement("form",{className:"SingUpForm",onSubmit:this.onSubmit},r.a.createElement("input",{className:"InputSingUp",name:"surname",value:t,onChange:this.onChange,type:"text",pattern:"[\u0410-\u042f\u0430-\u044f]+",maxlength:"20",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f*"}),r.a.createElement("input",{className:"InputSingUp",name:"name",value:a,onChange:this.onChange,type:"text",pattern:"[\u0410-\u042f\u0430-\u044f]+",maxlength:"20",placeholder:"\u0418\u043c\u044f*"}),r.a.createElement("input",{className:"InputSingUp",name:"login",value:n,onChange:this.onChange,type:"text",pattern:"[A-Za-z]+",maxlength:"15",placeholder:"\u041b\u043e\u0433\u0438\u043d*"}),r.a.createElement("input",{className:"InputSingUp",name:"passwordOne",value:s,onChange:this.onChange,type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c*"}),r.a.createElement("input",{className:"InputSingUp",name:"passwordTwo",value:c,onChange:this.onChange,type:"password",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c*"}),r.a.createElement("input",{className:"InputFile",id:"file_input",required:!0,type:"file"}),r.a.createElement("label",{for:"file_input",class:"viewFile"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e*"),r.a.createElement("button",{className:"SubmitButtonSingUp",disabled:i,type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))}}]),a}(r.a.Component),C=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(y,{SetLoggedIn:this.props.SetLoggedIn})}}]),a}(n.Component),N=(a(60),new S),_={login:"",password:""},x=function(){var e=document.getElementById("sing_in"),t=+window.getComputedStyle(e).height.substr(0,3)+30;e.style.height=t+"px",document.getElementById("sing_in_error_text").style.display="flex"},k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state,a=t.login,r=t.password;N.doSingIn(a,r,n.props.SetLoggedIn,x),e.preventDefault()},n.onChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.state=Object(f.a)({},_),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.login,a=e.password,n=""===a||""===t;return r.a.createElement("div",{className:"SingIn",id:"sing_in"},r.a.createElement("div",{className:"SingInInner"},r.a.createElement("span",{className:"SingInHeaderText"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement("span",{className:"SingInErrorText",id:"sing_in_error_text"},"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),r.a.createElement("form",{className:"SingInForm",onSubmit:this.onSubmit},r.a.createElement("input",{className:"InputSingIn",name:"login",value:t,onChange:this.onChange,type:"text",pattern:"[A-Za-z]+",maxlength:"15",placeholder:"\u041b\u043e\u0433\u0438\u043d*"}),r.a.createElement("input",{className:"InputSingIn",name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c*"}),r.a.createElement("button",{className:"SubmitButtonSingIn",disabled:n,type:"submit"},"\u0412\u043e\u0439\u0442\u0438"))))}}]),a}(r.a.Component),w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(k,{SetLoggedIn:this.props.SetLoggedIn})}}]),a}(n.Component),L=(a(61),function(e){var t=e.convertName;return r.a.createElement("option",{value:t},t)}),U={left_select:"",right_select:"",left_input:"",right_input:""},B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeLeftInput=function(e){var t=e.target.value.trim().replace(/[-\.;":'a-zA-Z\u0430-\u044f\u0410-\u042f]/,"");n.setState(Object(b.a)({},e.target.name,t));var a=n.state.right_select;Object.keys(n.state.data).map((function(e){return e===a?n.setState({right_input:n.state.data[e]*t===0?"":(n.state.data[e]*t).toFixed(3)}):null}))},n.onChangeRightInput=function(e){var t=e.target.value.trim().replace(/[-\.;":'a-zA-Z\u0430-\u044f\u0410-\u042f]/,"");n.setState(Object(b.a)({},e.target.name,t));var a=n.state.right_select;Object.keys(n.state.data).map((function(e){return e===a?n.setState({left_input:1/n.state.data[e]*t===0?"":(1/n.state.data[e]*t).toFixed(3)}):null}))},n.onChangeLeftSelect=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value));var t=n.state,a=t.left_input,r=t.right_select;fetch("https://api.exchangeratesapi.io/latest?base="+e.target.value).then((function(e){return e.json()})).then((function(e){n.setState({data:e.rates}),Object.keys(e.rates).map((function(e){return e===r?n.setState({right_input:(n.state.data[e]*a).toFixed(3)}):null}))}))},n.onChangeRightSelect=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value));var t=n.state.left_input;Object.keys(n.state.data).map((function(a){return a===e.target.value?n.setState({right_input:(n.state.data[a]*t).toFixed(3)}):null}))},n.state=Object(f.a)({},U),n.state={data:void 0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.exchangeratesapi.io/latest?base=CAD").then((function(e){return e.json()})).then((function(t){return e.setState({data:t.rates})})),this.setState({left_select:"CAD",right_select:"CAD"})}},{key:"render",value:function(){var e=this.state,t=e.left_select,a=e.right_select,n=e.left_input,s=e.right_input;return r.a.createElement("div",{className:"ConverterForm"},r.a.createElement("div",{className:"ConverterFormInner"},r.a.createElement("span",{className:"ConverterHeaderText"},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440"),r.a.createElement("div",{className:"ConverterInputs"},r.a.createElement("div",{className:"ConvertOption Left"},r.a.createElement("select",{name:"left_select",value:t,onChange:this.onChangeLeftSelect},this.state.data?Object.keys(this.state.data).map((function(e){return r.a.createElement(L,{convertName:e})})):r.a.createElement("div",null,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b")),r.a.createElement("input",{className:"InputConverter",name:"left_input",value:n,onkeyup:"this.value = this.value.replace(/[^\\d]/g,'');",onChange:this.onChangeLeftInput,type:"text"})),r.a.createElement("img",{src:"https://cdn.icon-icons.com/icons2/930/PNG/512/arrow-down_icon-icons.com_72377.png",width:"30px",height:"30px",class:"i"}),r.a.createElement("div",{className:"ConvertOption"},r.a.createElement("select",{name:"right_select",value:a,onChange:this.onChangeRightSelect},this.state.data?Object.keys(this.state.data).map((function(e){return r.a.createElement(L,{convertName:e})})):r.a.createElement("div",null,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b")),r.a.createElement("input",{className:"InputConverter",name:"right_input",value:s,onChange:"disabled",type:"text"})))))}}]),a}(n.Component),T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(B,null)}}]),a}(n.Component),A=(a(62),a(3)),F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).SetLoggedIn=function(){var e=n.state.isLoggedIn;n.setState({isLoggedIn:!e})},n.IsLoggedIn=function(){return n.state.isLoggedIn},n.state={isLoggedIn:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,{basename:"/lab_5/my-app/build"},r.a.createElement(p,{IsLoggedIn:this.IsLoggedIn,SetLoggedIn:this.SetLoggedIn}),this.state.isLoggedIn?r.a.createElement(A.a,{to:"/converter"}):null,r.a.createElement(A.d,null,r.a.createElement(A.b,{path:"/singin"},r.a.createElement(w,{SetLoggedIn:this.SetLoggedIn})),r.a.createElement(A.b,{path:"/singup"},r.a.createElement(C,{SetLoggedIn:this.SetLoggedIn})),r.a.createElement(A.b,{path:"/converter"},this.state.isLoggedIn?r.a.createElement(T,null):r.a.createElement(A.a,{to:"/"})),r.a.createElement(A.b,{path:"/"},r.a.createElement(v,null))))}}]),a}(n.Component);c.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.9af81073.chunk.js.map